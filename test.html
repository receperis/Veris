<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Translation Extension Test - IndexedDB</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            line-height: 1.6;
        }

        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .selectable-text {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            user-select: text;
        }

        .console-commands {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
        }

        .highlight {
            background: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 10px;
            margin: 10px 0;
        }
    </style>
</head>

<body>
    <h1>Translation Extension Test - IndexedDB Integration</h1>

    <div class="test-section">
        <h2>Test 1: Simple English Text</h2>
        <div class="selectable-text">
            Hello world, this is a simple test sentence for the translation extension.
        </div>
    </div>

    <div class="test-section">
        <h2>Test 2: Longer Text</h2>
        <div class="selectable-text">
            The quick brown fox jumps over the lazy dog. This pangram contains every letter of the alphabet and is
            perfect for testing translation functionality.
        </div>
    </div>

    <div class="test-section">
        <h2>Test 3: Mixed Content</h2>
        <div class="selectable-text">
            Programming languages like JavaScript, Python, and C++ are essential tools for modern software development.
        </div>
    </div>

    <div class="test-section">
        <h2>üóÑÔ∏è IndexedDB Testing Instructions</h2>
        <ol>
            <li>Make sure the Chrome extension is loaded</li>
            <li>Select any text above</li>
            <li>Wait for the translation bubble to appear</li>
            <li><strong>Click multiple word pills</strong> to see multiple translations at once</li>
            <li><strong>Use the "+ Add" buttons</strong> to select words for saving</li>
            <li><strong>Click the "Save Selected" button</strong> to save to IndexedDB</li>
            <li>Open browser DevTools (F12) and go to Console</li>
            <li>Use the commands below to check your saved vocabulary</li>
        </ol>

        <div class="highlight">
            <strong>‚ú® New Features:</strong>
            <ul>
                <li>üíæ Each word is now saved as a separate entry in IndexedDB</li>
                <li>üîç Enhanced search capabilities by individual words</li>
                <li>üìä Better analytics and word frequency tracking</li>
                <li>üåê Session linking - words from the same translation session are connected</li>
                <li>ÔøΩ Individual word context and metadata tracking</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>üõ†Ô∏è Browser Console Commands</h2>
        <p>Open DevTools (F12) ‚Üí Console tab and try these commands:</p>

        <h3>View All Saved Vocabulary:</h3>
        <div class="console-commands">vocabularyExtension.getAllVocabulary()</div>

        <h3>View Recent Vocabulary (last 7 days):</h3>
        <div class="console-commands">vocabularyExtension.getRecentVocabulary(7)</div>

        <h3>Get Database Statistics:</h3>
        <div class="console-commands">vocabularyExtension.getStats()</div>

        <h3>Search for a Specific Word:</h3>
        <div class="console-commands">vocabularyExtension.searchWord('hello')</div>

        <h3>Get All Unique Words (with frequency):</h3>
        <div class="console-commands">vocabularyExtension.getUniqueWords()</div>

        <h3>Get Words from Current Domain:</h3>
        <div class="console-commands">vocabularyExtension.getWordsFromDomain(window.location.hostname)</div>

        <h3>Clear All Data (for testing):</h3>
        <div class="console-commands">vocabularyExtension.clearAllVocabulary()</div>

        <h3>Manual Database Check:</h3>
        <p>Go to DevTools ‚Üí Application tab ‚Üí Storage ‚Üí IndexedDB ‚Üí VocabularyExtension ‚Üí vocabulary</p>
    </div>

    <div class="test-section">
        <h2>üìã Testing Checklist</h2>
        <ul>
            <li>‚ñ° Translation bubble appears on text selection</li>
            <li>‚ñ° Multiple word pills can be clicked simultaneously</li>
            <li>‚ñ° Word translations display correctly</li>
            <li>‚ñ° Words can be selected for saving (green pills with ‚úì)</li>
            <li>‚ñ° Save button shows correct count</li>
            <li>‚ñ° Save operation shows progress feedback</li>
            <li>‚ñ° Success message appears after saving</li>
            <li>‚ñ° Data appears in IndexedDB via console commands</li>
            <li>‚ñ° Saved data includes URL, timestamp, and translations</li>
            <li>‚ñ° Error handling works (try with network issues)</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üéØ What Gets Saved (Individual Words)</h2>
        <p>Each word is now saved as a separate entry with:</p>
        <ul>
            <li><strong>Original Word:</strong> The source word</li>
            <li><strong>Translated Word:</strong> The translation</li>
            <li><strong>Context:</strong> The full sentence where it appeared</li>
            <li><strong>Timestamp:</strong> When the word was saved</li>
            <li><strong>Session ID:</strong> Links words saved together</li>
            <li><strong>Language Pair:</strong> Source and target languages</li>
            <li><strong>URL & Domain:</strong> Where the word was found</li>
        </ul>

        <p><strong>Benefits:</strong></p>
        <ul>
            <li>üîç Easy to search for specific words</li>
            <li>üìä Track word frequency and repetition</li>
            <li>üìà Better analytics and learning insights</li>
            <li>üéØ Individual word management and review</li>
        </ul>
    </div>
</body>

</html>